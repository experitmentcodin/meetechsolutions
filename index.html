<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SRIKRISHNA FANCY DRESSES & COSTUMES!</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 30px;
    }

    h1 {
      text-align: center;
      color: red;
      background-color: yellow;
    }
    
    input, select {
      padding: 5px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }

    th, td {
      border: 1px solid #ccc;
      padding: 8px;
      text-align: center;
    }

    button {
      padding: 8px 16px;
      margin: 10px 5px;
      cursor: pointer;
    }

    .red { background-color: red; color: white; }
    .green { background-color: green; color: white; }
    .blue { background-color: dodgerblue; color: white; }

    .highlight-amount { color: blue; font-weight: bold; }
    .highlight-name { color: green; font-weight: bold; }

    .print-only { display: none; }

    @media print {
      input,
      select,
      button,
      .entry-section,
      .action-buttons {
        display: none !important;
      }

      .print-only {
        display: block !important;
      }

      .highlight-name {
        color: green !important;
        font-weight: bold;
      }

      .highlight-amount {
        color: blue !important;
        font-weight: bold;
      }

      .print-value { display: inline; }
      .editable { display: none; }
    }
  </style>
</head>
<body>

  <h1>SRIKRISHNA FANCY DRESSES & COSTUMES!</h1>

  <!-- Customer Name Input -->
  <div class="entry-section">
    <label>Customer Name: </label>
    <input type="text" id="customerName" placeholder="Enter customer's name" oninput="updateCustomerName()">
  </div>

  <!-- Printed Name -->
  <div class="print-only">
    <strong>Customer Name:</strong>
    <span id="printedCustomerName" class="highlight-name"></span>
  </div>

  <!-- Bill Table -->
  <table id="billTable">
    <thead>
      <tr>
        <th>Description</th>
        <th>Amount (‚Çπ)</th>
        <th>GST (18%)</th>
        <th>Discount (‚Çπ)</th>
        <th>Total (‚Çπ)</th>
        <th class="entry-section">Action</th>
      </tr>
    </thead>
    <tbody id="billBody"></tbody>
  </table>

  <!-- Buttons and Discount -->
  <div class="action-buttons">
    <button class="green" onclick="addItem()">+ Add Item</button>

    <label for="discountSelect">Give Discount:</label>
    <select id="discountSelect" onchange="updateTotals()">
      <option value="0">No Discount</option>
    </select>

    <button class="blue" onclick="window.print()">üñ®Ô∏è Print Bill</button>
  </div>

  <!-- Grand Total -->
  <h2>Grand Total: ‚Çπ<span id="grandTotal">0.00</span></h2>
  <hr>
  <p> 
    Nizampet municipal office, Pragathinagarüìçüåç! 
    Please let us know your requirement, we will respond to your message as soon as possible. 
    Thank you !!üôèüôèüôè 
  </p>

  <script>
    // Populate discount options
    const discountSelect = document.getElementById('discountSelect');
    for (let i = 5; i <= 100; i += 5) {
      const option = document.createElement('option');
      option.value = i;
      option.text = `${i}%`;
      discountSelect.appendChild(option);
    }

    function updateCustomerName() {
      const name = document.getElementById('customerName').value;
      document.getElementById('printedCustomerName').textContent = name;
    }

    function addItem() {
      const tbody = document.getElementById('billBody');
      const row = document.createElement('tr');

      row.innerHTML = `
        <td>
          <input type="text" class="editable" oninput="updateTotals()" placeholder="Item description" />
          <span class="print-only print-value"></span>
        </td>
        <td>
          <input type="number" class="editable" value="0" oninput="updateTotals()" />
          <span class="print-only print-value"></span>
        </td>
        <td class="gst">‚Çπ0.00</td>
        <td class="discount">‚Çπ0.00</td>
        <td class="total highlight-amount">‚Çπ0.00</td>
        <td class="entry-section">
          <button class="red" onclick="this.closest('tr').remove(); updateTotals();">X</button>
        </td>
      `;

      tbody.appendChild(row);
    }

    function updateTotals() {
      const rows = document.querySelectorAll('#billBody tr');
      let grandTotal = 0;
      const discountPercent = parseInt(document.getElementById('discountSelect').value);

      rows.forEach(row => {
        const descInput = row.cells[0].querySelector('input');
        const amtInput = row.cells[1].querySelector('input');

        const description = descInput.value || '';
        const baseAmount = parseFloat(amtInput.value) || 0;

        const discountAmount = baseAmount * (discountPercent / 100);
        const gst = baseAmount * 0.18;
        const total = (baseAmount - discountAmount) + gst;

        // Set text for print view
        row.cells[0].querySelector('.print-value').textContent = description;
        row.cells[1].querySelector('.print-value').textContent = `‚Çπ${baseAmount.toFixed(2)}`;

        row.querySelector('.gst').textContent = `‚Çπ${gst.toFixed(2)}`;
        row.querySelector('.discount').textContent = `‚Çπ${discountAmount.toFixed(2)}`;
        row.querySelector('.total').textContent = `‚Çπ${total.toFixed(2)}`;

        grandTotal += total;
      });

      document.getElementById('grandTotal').textContent = grandTotal.toFixed(2);
    }
  </script>

</body>
</html>
